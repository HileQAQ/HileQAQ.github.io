[{"title":"2020CCPC东北四省赛","date":"2021-10-15T15:52:07.000Z","url":"/2021/10/15/2020CCPC%E4%B8%9C%E5%8C%97%E5%9B%9B%E7%9C%81%E8%B5%9B/","tags":[["题解","/tags/%E9%A2%98%E8%A7%A3/"]],"categories":[["组队训练","/categories/%E7%BB%84%E9%98%9F%E8%AE%AD%E7%BB%83/"]],"content":"10.15打的组队赛，感觉自从使用了战术之后发挥稳定了不少，出了9/12题。 战术：Hile_Meow非必要不上机，Hile_Meow所读题意必让队友确认（经典wa签到+读歪题） A. Micro Structure Thread构造+MST。待补 B. Team网络流。考虑通过源汇点的流量控制$m$个组合，然后$B$向$A$建边，$A$向$C$建边，流量为1，费用为预处理的$f(u,v)$，$A$拆点控制流量为1。 虽然是求最大权值，但是因为所有路径长度相同，我们可以令每条边的权值为$M-f(u,v)$，然后跑dijkstra费用流，或者直接边权取反上spfa费用流（可处理负权边）。 C. Function数学。显然$f(x)\\le x$，而且根据这个后缀积的不可构造性，猜测大概率会收敛到一个$f(x)=x$的值（如$k000001$或一个个位数），看榜上过的挺快就直接冲了一发记忆化+暴力，跑得飞快。 D. Fall Guys签到。Boboge秒了。 E. Liner vectors构造。首先显然$n=k$且$n\\ne 1$时无解，然后考虑当$k\\%2=0$时，每一维度形成的列向量异或为0，说明任意列向量都等于其他$n-1$个列向量的异或和，矩阵不满秩。 接下来就好构造了，前$k+1$个向量的前$k+1$位形成一个对角线为0的矩阵，后面的行直接对前面$n-k-1$位每行分配一个$1$，每行剩下的$1$全放在最低的$k-1$位。 赛中写的唯一一道题，还被n=1,k=1卡了一发 Code F. Splendor贪心+大模拟的防ak。貌似不太可做 G. Halli Galli签到。Boboge秒了。 H. PepperLa’s String贪心。既然要优先最短，其次字典序最小。 分两类位置： 使字符串长度变短：删单个字符，删两个字符之一，删$16^k$个连续字符一端 使字符串长度不变：删连续相同字符一端 有第一类优先删第一类，如果能让字典序变小则删第一个能让字典序变小的，否则删最后一个第一类位置。 如果没有第一类位置，则删第一个字符。 Code I. PepperLa’s Cram School图论，小坑。由于边长相同，答案即为$d[i][j]$中最小值出现次数$/2$（一条边贡献两次），注意最小边权不一定是$1$。 J. Color the blocks签到。从$(x,y)$到$(x+1,y+2),(x-1,y+2),(x+3,y),(x-3,y)$建边，答案即为$2^{连通块数}$，显然$n\\ge4$时答案为$4$，其他手算一下就好了。 K. PepperLa’s Boastdp。Awei秒了。待补 L. PepperLa’s Express搜索。首先遇到$\\min$和$\\max$来回套的题，第一反应必是二分答案。考虑二分了一个答案$mid$，可以先做一个bfs把所有已经和’@’距离在$mid$内的’*‘搞掉，然后考虑求出距离每个位置最远的’*‘，如果存在某个空格最远距离小于$mid$，说明可以把新的’@’放在这里使答案不大于$mid$。 赛中其实讨论了一个憨批做法，对于每一维来回扫一遍，从一维更新到三维，复杂度$O(8XYZ)$，但是写起来有点恶心，而且好像会爆空间，赛中没写完。 看出题人的方法有点牛，既然是找距离最远的点，那必然是$|x_i-x_j|+|y_i-y_j|+|z_i-z_j|$最大，我们可以把里面的正负号拆开，$i,j$各存$2^3$种，我们可以直接在为长为3的二进制互为补集的两种组合中求答案。 感觉这个拆绝对值符号的思路挺好，而且代码写起来也很简洁。 Code "},{"title":"2017CCPC女生赛","date":"2021-10-15T14:24:16.000Z","url":"/2021/10/15/2017CCPC%E5%A5%B3%E7%94%9F%E8%B5%9B/","tags":[["题解","/tags/%E9%A2%98%E8%A7%A3/"]],"categories":[["个人训练","/categories/%E4%B8%AA%E4%BA%BA%E8%AE%AD%E7%BB%83/"]],"content":"最近组队赛有点拉跨，于是个人vp加训，写写题解。 A - Automatic Judge签到，模拟。 Code B - Building Shopsdp。先对每个pair按照位置排序，$f[i][j]$为考虑前$i$个点，上一次选在$j$时的答案，则有 $f[i][j]=min(f[i][j],f[i-1][j]+x[i]-x[j])(i!=j)$ $f[i][j]=min(f[i][j],f[i-1][j]+c[i])(i==j)$ 最终答案为$max(\\{f[n][1…n]\\})$。 Code C - Coprime Sequence签到，处理出前后缀$\\gcd$然后枚举删的位置。 Code D - Deleting Edges图论。考虑最终形成的是一棵以0为根的生成树，可以枚举最后形成的树中每个点连向父亲的那条边，对每个结点来说，删边方案是相互独立的（因为树上每个点的父亲唯一），乘起来就是最终答案。 Code E - Easy Summation签到，怎么做都行。 Code F - Forgiveness赛中没过，待补。感觉是个$O(10\\times n\\times\\sqrt{n}\\times\\log{n})$的分块（应该没有$\\log{n}$？）。 （后记：Claris出的防AK，据说要bitset搞搞） G - Graph Theory图论。考虑每个1和前面的2匹配，剩下的1两两匹配，剩下2或者n为奇数就是No。 Code H - Happy Necklace打表，数学。题意等价求长为n且两个0的距离大于2的01串的方案数，赛中人工打了个表(2,3,4,6,9,13)，发现是$f[n]=f[n-1]+f[n-3]$，矩阵快速幂即可。 Code I - Innumerable Ancestors树论。结论：$k$个点中LCA深度最大的两点dfs序一定相邻（考虑反证法），所以对集合A,B按照dfs序排序并双指针处理。 Code J - Judicious Strategy博弈，打表。直接$O(n^3\\log n)$预处理出所有子串及其权值，然后打表，记录一个$(win,A,B)$的三元组表示胜负状态和玩家分数，注意一个字符串中的同一个子串只算出现一次（如”aaaa”中，”aa”的出现次数为1）。 Code "},{"title":"计算数论习题选证","date":"2021-02-08T18:57:50.000Z","url":"/2021/02/09/%E8%AE%A1%E7%AE%97%E6%95%B0%E8%AE%BA%E4%B9%A0%E9%A2%98%E9%80%89%E8%AF%81/","tags":[["数论","/tags/%E6%95%B0%E8%AE%BA/"]],"categories":[["数学","/categories/%E6%95%B0%E5%AD%A6/"]],"content":"这是为《A Computational Introduction to Number Theory and Algebra （Version 2）》（资源）中某些和ACM用数论有关的习题写的证明。还没看完，好难QAQ EXERCISE 1.17 已知正整数$a,b,c$满足$\\gcd(a,b)=1$，$c\\ge(a-1)(b-1)$， 求证：总是存在非负整数$s,t$满足$c=as+bt$ 证明1： 当$s\\in[0,b-1]$时$as$模$b$的结果恰好构成$b$的完全剩余系， 所以存在$s\\in[0,b-1]$使$n\\equiv as\\mod b$成立， 此时$bt=c-as\\ge (a-1)(b-1)-as=(b-1-s)a-(b-1)\\ge -b+1$， 即$t\\ge\\frac{-b+1}{b}&gt;\\frac{-b}{b}=-1$。$\\Box$ 证明2： 考虑其$c=as+bt$存在非整数解$(s,t)$的几何意义， 即直线$y=-\\frac{b}{a}x+\\frac{c}{a}$在第一象限（含坐标轴）过任意整点。 EXERCISE 1.27 已知$a,b\\in Z$， 求证：$\\gcd(a+b,\\mathrm{lcm}(a,b))=\\gcd(a,b)$ 证明： 设$d=\\gcd(a,b),s=\\frac{a}{d},t=\\frac{b}{d}$， 易知$\\gcd(s,t)=1$， $\\gcd(a+b,\\mathrm{lcm}(a,b))$ $=\\gcd(d(s+t),\\frac{ab}{d})$ $=d\\gcd(s+t,st)$ 又因$(s+t)\\nmid s$且$(s+t)\\nmid t$，$\\gcd(s+t,st)=1$， 即$\\gcd(a+b,\\mathrm{lcm}(a,b))=d=\\gcd(a,b)$。$\\Box$ EXERCISE 2.10 求证：不存在$a,b$满足$7a^3+2=b^3$ 证明： 若$7a^3+2=b^3$， 则有$7a^3+2\\equiv b^3\\mod7$， 即$2=b^3\\mod7$ 由于$(b+7)^3\\equiv b^3\\mod7$， 且$1^3\\equiv2^3\\equiv1,3^3\\equiv5^3\\equiv6^3\\equiv6,4^3\\equiv4,7^3\\equiv0$， 因此$7a^3+2=b^3$不成立。$\\Box$ EXERCISE 2.12 已知整数$a_1,a_2,..a_k,b$和正整数$n$，设$d=\\gcd(a_1,…,a_k,n)$， 求证：$a_1x_1+a_2x_2+…+a_kx_k \\equiv b\\mod n$有解$\\{x_i\\}_{i=1}^{k}$当且仅当$d|b$ 暂无想法，待证 EXERCISE 2.13 暂无想法，待证 EXERCISE 2.16 已知$\\{n_i\\}_{i=1}^{k}$两两互质，对于整数$\\{a_i\\}_{i=1}^k,\\{b_i\\}_{i=1}^k$，设$d_i=\\gcd(a_i,n_i)$， 求证：存在$x$满足$\\forall i \\in [1,k], a_ix\\equiv b_i\\mod n_i$当且仅当$\\forall i\\in[1,k],d_i|b_i$ 暂无想法，待证 EXERCISE 2.23 求证：$\\varphi(nm)=\\gcd(n,m)*\\varphi(\\mathrm{lcm}(n,m))$ 证明： $n=\\prod p_{i}^{a_i},m=\\prod p_{i}^{b_i}$， $\\gcd(n,m)=\\prod p_{i}^{min(a_i,b_i)},\\mathrm{lcm}(n,m)=\\prod p_{i}^{max(a_i,b_i)}$， $\\gcd(n,m)\\varphi(\\mathrm{lcm}(n,m))=\\prod p_{i}^{min(a_i,b_i)}\\prod p_{i}^{max(a_i,b_i)-1}(p_i-1)$ $=\\prod p_{i}^{a_i+b_i-1}(p_i-1)=\\varphi(nm)$。$\\Box$ EXERCISE 2.24 已知$n$有$r$个不同的奇质因子， 求证：$2^r|\\varphi(n)$ 证明： $\\varphi(n)=\\prod p_{i}^{e_i-1}(p_i-1)$， 其中$r$个奇质因子的贡献为$\\prod_{i=1}^{r} p_i^{e_i-1}(p_i-1)$， 又因$p_i^{e_i-1}\\ge1$且$p_i-1\\equiv0\\mod2$， 因此$2^r|\\varphi(n)$。$\\Box$ EXERCISE 2.25 定义$\\varphi_{2}(n)=\\sum_{i=0}^{n-1}[\\gcd(i,n)=1\\land\\gcd(i+1,n)=1]$， 求证：对于$n=\\prod_{i=1}^{r}p_i^{e_i}$，$\\varphi_2(n)=n\\prod_{i=1}^r(1-2/p_i)$ 证明： 考虑$n’=p^e$，对于所有的$a\\in[0,n’-1]$，不满足$\\gcd(a,n’)=1\\land\\gcd(a+1,n’)=1$的值有： $0\\times p,1\\times p-1,1\\times p,$ $2\\times p-1,2\\times p,$ $…,$ $(p^{e-1}-1)\\times p-1,(p^{e-1}-1)\\times p，p^e-1$ 将$i\\times p-1$与$i\\times p$配对，将$0\\times p$与$p^e-1$配对， 发现共有$p^{e-1}$对不满足条件的数， 因此$\\varphi_2(p^e)=p^e-2p^{e-1}=p^e(1-2/p)$， 故$\\varphi(n)=\\prod_{i=1}^{r}p_i^{e_i}(1-2/p_i)=n\\prod_{i=1}^r(1-2/p_i)$。$\\Box$"},{"title":"Namomo-Camp-2021-day4-构造","date":"2021-02-08T18:56:39.000Z","url":"/2021/02/09/Namomo-Camp-2021-day4-%E6%9E%84%E9%80%A0/","tags":[["Namomo Camp","/tags/Namomo-Camp/"],["构造","/tags/%E6%9E%84%E9%80%A0/"]],"categories":[["Namomo Camp 2021","/categories/Namomo-Camp-2021/"]],"content":"2020ICPC济南J 题意 给一棵树上的所有点赋值使得$u,v$间有边当且仅当$w[u]|w[v]=2^{60}-1$（’$|$’为二进制按位或） 题解 为了方便构造，我们对这棵树进行黑白染色， 为了防止同色点之间产生边，可以令黑点权值二进制前两位为$01$，白点为$10$， 再考虑对构造方法增加限制以方便构造， 由题意得，权值的二进制最大可以有$60$位， 显然，点数较少的一种颜色（以下当作白色）不会超过$50$种， 因此，我们可以增加一个限制：所有白点权值二进制中有且仅有一个$0$， 这样就能构造出一组权值互不相同的白点， 有了白点，黑点就可以直接确定了，例如 如果$w[1]=11…1110,w[4]=11…1101,w[5]=11…1011$（忽略前两位$01$和$10$，下同）， 则$w[2]=00…0001,w[3]=00…0111,w[6]=w[7]=00…0010$， 此时白点的$0$位就相当于钥匙孔，黑点的$1$就相当于钥匙，一个钥匙（黑点）必须能打开周围的所有锁， 这样想，边的关系就确定了，游戏结束。 代码 2020ICPC济南E 题意 在写了在写了 题解 在写了在写了 代码 在写了在写了 证明题 命题 对任意$2n-1$个数，一定存在$n$个数使其和为$n$的倍数 证明 在写了在写了 总结构造问题的一般思路： 增量构造，从$f(n-k)$到$f(n)$，一般要正推 递归构造，从$f(\\frac{n}{k})$到$f(n)$，一般要逆推 转移构造，【从$f$到$g$】等价于【先从$f$到$h$，再从$h$到$g$】 增加限制，当构造自由度太高时可以视情况增加一些限制 待定参数，先考虑答案的状态，将其中一些参数设为未知，然后求出参数和答案的关系 调整构造，先按照某种方法构造出近似解，然后按照某种原则微调至答案 随机构造，利用题目里的随机性构造答案，一般和概率的计算有关 "},{"title":"Namomo-Camp-2021-day1-DP","date":"2021-02-08T18:27:51.000Z","url":"/2021/02/09/Namomo-Camp-2021-day1-DP/","tags":[["Namomo Camp","/tags/Namomo-Camp/"],["DP","/tags/DP/"]],"categories":[["Namomo Camp 2021","/categories/Namomo-Camp-2021/"]],"content":"luoguP2612 题意 设一个排列的权值为相邻两数差的绝对值之和，求长度为$n$的随机排列权值不小于$m$的概率（$n\\le100$） 题解 考虑一个填完的排列中每个数对答案的贡献， 设当前填的数为$b$，其前后的数分别为$a$和$c$，则有三种情况： 当$[a&lt;b\\land c&lt;b]==1$时，答案要加上$|a-b|+|b-c|=2\\times b-a-c$，$b$对答案的贡献为$2\\times b$ 当$[a&lt;b\\oplus c&lt;b]==1$时，答案要加上$|a-b|+|b-c|=|a-c|$，$b$对答案的贡献为$0$ 当$[a&gt;b\\land c&gt;b]==1$时，答案要加上$|a-b|+|b-c|=a+c-2\\times b$，$b$对答案的贡献为$-2\\times b$ 为了消去绝对值的影响，我们从小到大填数。 在从小到大填数时，出现情况1说明填当前位置时左右都非空，出现情况2说明左右有一个非空，出现情况3说明左右都为空，而且如果填在两端要特殊处理一下。 考虑用$f(i,j,k,t)$表示已经填了$i$个数，构成了$j$个连续段，答案为$k$，有$t$个端点填了数的方案数，其中$i\\in[0,n],j\\in[0,\\lceil\\frac{n}{2}\\rceil],k\\in[-4500,4500],t\\in[0,2]$， 如果不填在两端，根据上面的情况，有三种转移方式： $f(i,j,k,l)\\longrightarrow f(i+1,j,k,l)$ $f(i,j,k,l)\\longrightarrow f(i+1,j+1,k-2\\times i,l)$ $f(i,j,k,l)\\longrightarrow f(i+1,j-1,k+2\\times i,l)$ 如果填在两端，有两种转移方式（端点旁边是否有数）： $f(i,j,k,l)\\longrightarrow f(i,j,k+i,l+1)$ $f(i,j,k,l)\\longrightarrow f(i,j+1,k-i,l+1)$ 转移时注意乘上可以选择的方案数。 代码 这题着实恶心，得面向数据范围编程，$k\\le8$用long double，否则用__float128才能过，所以写的又臭又长，这里只放了dp部分的代码 CF908G 题意 $S(n)$为$n$所有位数非降序排列后的数值，求$\\sum_{i=1}^X S(i)\\mod 10^9+7$（$X\\le10^{700}$） 题解 应该是自己做过的第三道数位dp，数位dp好难啊 看这个数据范围，$10^{700}$，显然是数位dp，但有一说一确实挺怪的， 河里猜测，状态数应该是$700\\times 700\\times 10\\times x$， 然后就不会了（ 看了别人的题解，发现其实还是挺好懂的， 举个例子，$S(114514)$可以拆成三部分的贡献：$S(114514)=111445=111111+111+1$（其实是九部分，对应$1-9$）， 因此可以分别枚举每个位置产生的贡献之和，然后分别加起来， 具体来说就是 没写完 代码 CF1142D 题意 给定$n$个非降序排列的数组，第$i$个数组长度为$t_i$，每次操作可以取出任意数组最左边的数（相当于删除）并加到答案里，求$k$次操作后的最大答案（$n,k\\le3000$） 题解 一个显然的结论是，最多只有一个数组被取数但没有被全取完，利用反证法容易证明。 根据这个结论，最暴力的办法就是考虑枚举没选中的数组然后对其他的做一遍背包， 但是这是$O(n^2k)$的，显然会超时，s思考后发现，在枚举不同数组进行背包的时候，只有两个物品不同，其他$n-2$个都是一样的， 因此可以考虑如何重复使用这些物品，起码要优化到$O(nk\\log n)$才行， 既然带了个$\\log$，大概率要用线段树， 朝着这个方向想想，结果就出来了， 我们可以在线段树节点$(i,l,r)$上用$f(i)$来储存除了$l,r$数组之外的所有物品做$01$背包后的结果， 这样就把$n^2k$枚举时的加减物品变成了从根到叶的加物品操作， 叶节点即为之前所枚举的没有被全取完的数组，复杂度$O(nk\\log n)$。 代码 300iq Contest 3 C 题意 在写了在写了 题解 在写了在写了 代码 CF729F 题意 给定一长度为$n$的数组，$A$和$B$分别从左右端取数字加到自己身上，设$A,B$的分数分别为$W_A,W_B$，$S=W_A-W_B$，$A$想让$S$更大，$B$想让$S$更小，$A,B$都会采取最优策略，求最终$S$的值（$n\\le4000$） 题解 在写了在写了 代码 2019CCPC秦皇岛G 题意 在写了在写了 题解 在写了在写了 代码 代码： [ ] 2020ICPC上海F [ ] CF1428G [ ] CF1383C [ ] 2018CCPC吉林 [ ] DTOJ4632（没找到链接） "}]